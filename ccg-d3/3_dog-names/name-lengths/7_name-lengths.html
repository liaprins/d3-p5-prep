<!DOCTYPE html>
<html lang="en" style="overflow-x: hidden !important;">
  <head>
    <meta charset="utf-8" />
    <!-- Work Sans via Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,400;0,600;0,700;1,400;1,600&display=swap" rel="stylesheet">
  
      
<!-- ⬇︎⬇︎⬇︎⬇︎⬇︎ D3/P5 LIBRARY * D3/P5 LIBRARY * D3/P5 LIBRARY * D3/P5 LIBRARY * D3/P5 LIBRARY * D3/P5 LIBRARY * D3/P5 LIBRARY -->
    
    <!-- CHOOSE WHICH D3 LIBRARY FILE TO POINT TO BELOW vvv -->
    <!-- p5 -->
    <!-- <script type="text/javascript" src="../../../d3-library/p5.min.js"></script> -->
    <!-- D3 v6 via D3 website -->
    <!-- <script type="text/javascript" src="https://d3js.org/d3.v6.min.js"></script> -->
    <!-- v6(.7) via downloaded file (AIRPLANE VERSION OF THE ABOVE ^^^) -->
    <script type="text/javascript" src="../../../d3-library/d3.js"></script>
    <!-- v4(.5) via downloaded file -->
    <!-- <script type="text/javascript" src="../../../d3-book-master/d3.js"></script> -->

<!-- ⬆︎⬆︎⬆︎⬆︎⬆︎ D3/P5 LIBRARY * D3/P5 LIBRARY * D3/P5 LIBRARY * D3/P5 LIBRARY * D3/P5 LIBRARY * D3/P5 LIBRARY * D3/P5 LIBRARY -->
  

    <title>
      name-lengths | dog-names | CCG
    </title>
        
    <link rel="stylesheet" href="../../../assets/css/reset.css">
    <link rel="stylesheet" href="../../../assets/css/globalnavfooter.css">
    <link rel="stylesheet" href="../../../assets/css/somepages.css">
    <link rel="stylesheet" href="../../../assets/css/text.css">
    <link rel="stylesheet" href="../../../assets/css/menu-hamburger.css">
    <link rel="stylesheet" href="../../../assets/css/mediaqueries.css">
                
    <style>


/* ⬇︎⬇︎⬇︎⬇︎⬇︎ CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS */

#namelengths-fixed,
#namelengths-vis {
  width: 78.6vw;
  position: relative;
  left: -14.286;
}
#namelengths-fixed {
  margin-bottom: -0.58rem;
}
#namelengths-fixed > .axis-label {
  text-align: center;
  display: inline-block !important; /* need `!important` to overrule the rules called for "#posttext p:last-of-type" in somepages.css (applies to the second axis heading here) */
  /* width: calc(39.3vw - 3.35rem); */ /* half w (the vis' width) minus [half nameWidth + countWidth4Digits + countOffset] */
  width: calc(39.3vw - 2.75rem);
}
#namelengths-fixed > #human-axis-label {
  position: relative;
  left: 5.25rem; /* nameWidth */
}
#namelengths-fixed .axis {
  font-family: Work Sans;
}
#namelengths-fixed .axis > path {
  opacity: 0;
}
#h-axes-bg-line {
  stroke: #000000;
  stroke-width: 1;
}
#namelengths-vis {
  margin-bottom: 2rem;
  margin-top: 0;
}
#namelengths-vis > .inner {
  height: 13.5rem;
  overflow: scroll;
  scroll-behavior: smooth; /* even though also called on html element (within globalnavfooter.css), it's not working on search results unless called here */
}
#namelengths-vis {
  height: 13.5rem;
}
#namelengths-vis .tick-line {
  stroke: #d9d9d9;
  stroke-width: 1;
}
#namelengths-vis .selected-box {
  fill: #f9f9f9;
  cursor: pointer;
  mix-blend-mode: multiply;
}
#namelengths-vis .count,
#namelengths-vis .bars-dog,
#namelengths-vis .bars-human,
#namelengths-vis .name-label {
  pointer-events: none;
}
#namelengths-vis .bars-dog {
  transform: scaleX(-1);
  fill: #FD7F6F;
}
#namelengths-vis .bars-human {
  fill: #56C6E2;
}
#namelengths-vis .name-label {
  text-anchor: middle;
  letter-spacing: 0.07rem;
}

/* Toggle */
#namelengths-toggle {
  border: black solid 0.1rem;
  border-radius: 1rem;
  display: inline-block;
  padding: 0.1rem;
  cursor: pointer;
  vertical-align: top;
  line-height: 1;
}
.namelengths-toggle-pill-occur,
.namelengths-toggle-pill-name {
  display: inline-block;
  padding: 0 0.4em 0.2em 0.4em;
  border-radius: 1rem;
  background-color: white;
  line-height: 1.2;
}
.namelengths-toggle-pill-on {
  background-color: black;
}
.namelengths-toggle-text-occur,
.namelengths-toggle-text-name {
  font-weight: 600;
  color: black;
}
.namelengths-toggle-text-on {
  color: white;
}

/* Caption */
#namelengths-caption {
  margin-bottom: 1.024rem;
}

/* Mediaqueries */
@media (min-width: 817px) {
  #namelengths-vis,
  #namelengths-fixed {
    width: 85.714vw;
    left: calc(50% - 42.857vw); /* 42.857vw = (50vw (to get to L edge of screen) - 7.143vw (2/28col)) */
  }
  #namelengths-fixed > .axis-label {
    width: calc(42.86vw - 2.75rem); /* half w (the vis' width) minus [half nameWidth + countWidth4Digits + countOffset] */
  }
}
@media (min-width: 1225px) {
  #namelengths-vis,
  #namelengths-fixed {
    width: 1108.333px;
    left: -233px;
  }
  #namelengths-fixed > .axis-label {
    width: calc(554px - 2.75rem); /* half w (the vis' width) minus [half nameWidth + countWidth4Digits + countOffset] */
  }
  #namelengths-sidebar {
    position: absolute;
    left: -233px;
  }
  #namelengths-toggle-label {
    margin: 0 0 0.25rem 0 !important;
    display: block !important;
  }
  #namelengths-toggle {
    display: block;
    margin-bottom: 0.5rem !important;
  }
  #namelengths-caption {
    position: absolute;
    left: -58px;
    top: 4.2rem;
  }
}

/* ⬆︎⬆︎⬆︎⬆︎⬆︎ CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS * CSS */


    </style>
  </head>
  <body>
    <!-- Container to hold reading line -->
    <div id="readingline"></div>  
    <div id="everythingexceptnav">  
      <!-- Inline definition script -->
      <!-- <script src="../../../assets/js/definitions.js">
      </script> -->
      <!-- Lightbox and slideshow all in one script -->
      <script src="../../../assets/js/lightboxslideshow.js">
      </script>
      <!-- Detects swipes by users with touchscreens for galleries -->
      <script src="../../../assets/js/pure-swipe.js">
      </script>
      <!-- Opening <article> to make room for RR results that need to be wider than this width, to accommodate their all having margins on L + R -->
      <article class="mockmain" id="pre-rr">    
        <!-- I'm arranging the pieces of the intro part according to the V-mobile design; CSS can re-arrange them; this is according to responsive design principles -->
        <div class="desktopcontent"></div>
        <div id="postdesktopcontent">
          <!-- Date of post -->
          <p id="postdate" class="date m-textface bold postdatewidth">
            01 Dec 2022
          </p>
          <!-- Postglasses icon + title of post -->
          <a href="https://curiositycoloredglasses.com/" id="postlink">
            <!-- Post glasses icon -->
            <div class="postglassescontainer">
              <div class="stem shortstem leftstem"></div><div style="background-image: url(../../../assets/images/-l-placeholder.jpg)" class="circle leftcircle"></div><div class="stem centerstem"></div><div style="background-image: url(../../../assets/images/-r-placeholder.jpg)" class="circle rightcircle"></div><div class="stem shortstem rightstem"></div>
            </div>
            <!-- Name of post -->
            <h2 class="posttitle">
              What makes a dog name a dog name?
            </h2>
          </a>
          <!-- In-page table of contents for extra sections; only shown if 2+ extra sections (assuming Comments are always on; if not I should make sure to have two others) -->
          <div class="toc s-display">
            <a href="#process" id="process-link" class="toc-link">
              Process
            </a>
            <a href="#glossary" id="glossary-link" class="toc-link">
              Glossary
            </a>
            <a href="#notes" id="thankyou-link" class="toc-link">
              Notes
            </a>
            <a href="#relatedposts" id="rr-link" class="toc-link">
              Related Posts
            </a>
            <a href="#comments" id="comments-link" class="toc-link">
              Comments
            </a>
          </div>
          <!-- "Lia Prins" to show up as default author -->
          <span id="writtenby" class="xs-textface bold">by</span><span class="writer s-display"><a href="https://liaprins.com" target="_blank" class="yellowhover">&nbspLia Prins</a>
          </span>
          <!-- Intro of post -->
          <span id="postintro" class="l-textface">
            [Introductory text explaining the concept here. Text explaining the concept to go here. Introductory text explaining the concept here. Text explaining the concept to go here. Introductory text explaining the concept here. Text explaining the concept to go here.]
          </span>
          <div id="posttagshare">
            <!-- Tags of post -->
            <span id="posttaggroup" class="s-textface">
              <!-- Make them link to the tags page -->
              <a href="https://curiositycoloredglasses.com/" id="posttag" class="xs-textface tag yellowhover">&nbsp&nbsp#tag1</a>
              <a href="https://curiositycoloredglasses.com/" id="posttag" class="xs-textface tag yellowhover">&nbsp&nbsp#tag2</a>
              <a href="https://curiositycoloredglasses.com/" id="posttag" class="xs-textface tag yellowhover">&nbsp&nbsp#tag3</a>
              <a href="https://curiositycoloredglasses.com/" id="posttag" class="xs-textface tag yellowhover">&nbsp&nbsp#tag4</a>
              <a href="https://curiositycoloredglasses.com/" id="posttag" class="xs-textface tag yellowhover">&nbsp&nbsp#tag5</a>
            </span>
            <!-- Sharing for this post -->
            <span id="share">
              <!-- TWITTER: From a tutorial website: onlinejournalismblog.com, but adding ability to dynamically include a visualized image. -->
              <a href="https://twitter.com/iggldee" target="_blank" title="Share on Twitter">
                <img src= "../../../assets/images/Twitter.svg" alt="Share on Twitter" class="socialicon shareicon yellowhover">
              </a>
              <!-- FACEBOOK: This method is from Facebook Developers, after modifications. It only works in conjunction with the script called separately and my registered CCG Facebook app ID (1816213758596939) -->
              <span id="ogBtn" title="Share on Facebook">
                <img src= "../../../assets/images/Facebook.svg" alt="Share on Facebook" class="socialicon shareicon yellowhover">
              </span>
              <!-- PINTEREST: From Pinterest widget builder (modified to get stored image-->                
              <a data-pin-do="buttonBookmark" data-pin-custom="true" data-pin-save="false" href="https://www.pinterest.com/pin/create/button/" title="Share on Pinterest">
                <img src="../../../assets/images/Pinterest.svg" alt="Save to Pinterest" class="socialicon shareicon yellowhover">
              </a>
            </span>
          </div>    <!-- Closing id="posttagshare" -->
          <!-- Body text area of post (after intro) -->
          <div id="posttext" class="m-textface hyphenation">

            [A bit more explanatory text (coming soon!). A bit more explanatory text. A bit more explanatory text (coming soon!). A bit more explanatory text. A bit more explanatory text (coming soon!). A bit more explanatory text. A bit more explanatory text (coming soon!). A bit more explanatory text. A bit more explanatory text (coming soon!). A bit more explanatory text. ]
      
      
<!-- ⬇︎⬇︎⬇︎⬇︎⬇︎ HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML -->

<!-- Top part above vis that doesn't scroll -->
<div id="namelengths-fixed">
  <h4 class="vis-title">
    How long are dog names compared to human names?
  </h4>
  <p id="dog-axis-label" class="axis-label s-textface bold">
    Occurrence per 100,000 dogs
  </p>
  <p id="human-axis-label" class="axis-label s-textface bold">
    Occurrence per 100,000 humans
  </p>
</div>

<!-- Scrolling vis with bars, names -->
<div id="namelengths-vis">
  <!-- <div class="inner"></div> -->
</div>

<!-- Toggle + legend -->
<div id="namelengths-sidebar">
  <!-- Toggle -->
  <p id="namelengths-toggle-label" class="s-textface">Scale bars by:</p>
  <div id="namelengths-toggle">
    <div class="namelengths-toggle-pill-occur namelengths-toggle-pill-on">
      <span class="namelengths-toggle-text-occur namelengths-toggle-text-on xs-textface bold">
        Occurrence
      </span>
    </div>
    <div class="namelengths-toggle-pill-name">
      <span class="namelengths-toggle-text-name xs-textface bold">
        Name
      </span>
    </div>
  </div>
  <span> <!-- MUST BE WRAPPED IN A <span>, OTHERWISE IT IS A DIRECT CHILD OF <div>, AND lightboxsideshow.js CALLS THE LIGHTBOX CAPTIONS THROUGH div>figcaption (ANY <figcaption> THAT IS A DIRECT CHILD OF A <div>, SO IF THIS CAPTION IS ALSO A DIRECT CHILD OF A <div> IT MAJORLY MESSES UP THINGS FOR LIGHTBOX CAPTIONS) -->
    <figcaption id="namelengths-caption" class="xs-textface">
      <hr class="toprule">
      Toggle this chart to view either the occurrence (default) or the number of names per name-length.
    </figcaption>
  </span>
</div>
      
<!-- ⬆︎⬆︎⬆︎⬆︎⬆︎ HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML * HTML -->  


            [Concluding text will go here (coming soon!). Concluding text will go here. Concluding text will go here (coming soon!). Concluding text will go here. Concluding text will go here (coming soon!). Concluding text will go here. Concluding text will go here (coming soon!). Concluding text will go here. Concluding text will go here (coming soon!). Concluding text will go here. Concluding text will go here (coming soon!). Concluding text will go here. Concluding text will go here (coming soon!). Concluding text will go here. Concluding text will go here (coming soon!). Concluding text will go here.]

            <img src="../../../assets/images/home.svg" alt="" id="articleendglasses">
          </div>
          <hr class="toprule" id="separatorline" />

          <section id="process">
            <details class="postsectiondetails" open>
              <summary class="sectionsummary postpagesectionsummary blackbg"><h3>Process</h3>
                <a href="{{ site.baseurl }}{{ page.url }}" class="toparrowlink" title="Up to top">
                  <img src= "../../../assets/images/top-white.svg" class="toparrow">
                </a>
              </summary>
            </details>
          </section>

          <section id="glossary">
            <details class="postsectiondetails" open>
              <summary class="sectionsummary postpagesectionsummary blackbg"><h3>Glossary</h3>
                <a href="{{ site.baseurl }}{{ page.url }}" class="toparrowlink" title="Up to top">
                  <img src= "../../../assets/images/top-white.svg" class="toparrow">
                </a>
              </summary>
              <dl>
              </dl>
            </details>
          </section>

          <section id="notes">
            <details class="postsectiondetails" open>
              <summary class="sectionsummary postpagesectionsummary blackbg"><h3>Notes</h3>
                <a href="{{ site.baseurl }}{{ page.url }}" class="toparrowlink" title="Up to top">
                  <img src= "../../../assets/images/top-white.svg" class="toparrow">
                </a>
              </summary>
            </details>
          </section>
        </div>    <!-- Closing class="postdesktopcontent" -->
      </article>
  
      <script type="text/javascript">


// ⬇︎⬇︎⬇︎⬇︎⬇︎ JAVASCRIPT * JAVASCRIPT * JAVASCRIPT * JAVASCRIPT * JAVASCRIPT * JAVASCRIPT * JAVASCRIPT * JAVASCRIPT * JAVASCRIPT
  
// load in the data
// d3.json('../names.json')
d3.json('name-lengths.json')
  .then(function(json) {

  // constant vars
  var highestOccurrence = 33114; // manually adding occurrence of name-length with most occurrence ("A", for humans) for use with scales
  var mostNames = 653; // manually adding most names of any name-length ("5", for dogs) for use with scales
  var minBarSize = 1;

  // set screen-width-dependent vars
  var windowW = window.innerWidth; // capture screen width to create "mediaqueries" within JS
  var w;
  if (windowW < 817) { 
    w = (78.6 * windowW) / 100;
  } else if (windowW < 1225) {
    w = (85.714 * windowW) / 100;
  } else {
    var w = 1108;
  }
  
  // converts rem-based sizes per screen width
  function remConverter(variable) {
    var remMediaqueryConverter = 1.5; // the relationship between screensizes < 442 and >= 442 is 1 : 1.5
    if (windowW < 442) {
      return variable;
    } else {
      return variable * remMediaqueryConverter;
    }
  }

  var namelengthsToggle = d3.select('#namelengths-toggle');

  // declare rem-dependent vars, to be converted via function where they're called
  var vNameSpacing = remConverter(17);
  var h = vNameSpacing * (json.distinctNameLengths.length);
  var countWidth4Digits = remConverter(30);
  var countMargin = remConverter(7); // space between furthest-out count and edge, also other count-related spacing
  var nameWidth = remConverter(12);
  var nameOffset = remConverter(6.5);
  var barWeight = remConverter(7);
  var barY = (vNameSpacing / 2) - (barWeight / 2);
  var vAxesOffset = remConverter(15);
  var axesBoxHeight = remConverter(18);
  var vTickLabelOffset = remConverter(-7);
 
  // scales for occurrence data
  var occurrenceScale = d3.scaleLinear()
    .domain([0, highestOccurrence])
    .range([0, ((w / 2) - nameWidth - countWidth4Digits - countMargin)]);
  var occurrenceScaleBackwards = d3.scaleLinear() // this only to be used by dog axis + selected state showing dog's counts (not even to be used for dog's bars!)
    .domain([0, highestOccurrence])
    .range([((w / 2) - nameWidth - countWidth4Digits - countMargin), 0]);

  // axes for occurrence data
  var humanAxis = d3.axisTop()
    .scale(occurrenceScale)
    .ticks(3)
    .tickFormat(d3.format("~s"))
    .tickSize(0)
    .tickSizeOuter(0);
  var dogAxis = d3.axisTop()
    .scale(occurrenceScaleBackwards)
    .ticks(3)
    .tickFormat(d3.format("~s"))
    .tickSize(0)
    .tickSizeOuter(0);

  // parent svg container
  var namelengthsSvg = d3.select('#namelengths-vis')
    .append('svg')
      .attr('width', w)
      .attr('height', h);

  // tick lines inside vis
  var tickLinesGroup = namelengthsSvg.selectAll('#namelengths-vis .tick-lines-group')
    .data([1]) // seem to need to call .data to get the group to be made, but only want one group, so manually specifying a single-data-point "dataset" as an array
    .enter()
    .append('g')
      .attr('class', 'tick-lines-group');
  tickLinesGroup.append('line')
    .attr('class', 'tick-line')
    .attr('id', 'tick-line-dog-0')
    .attr('x1', (countMargin + countWidth4Digits + occurrenceScaleBackwards(0)) + 0.5)
    .attr('y1', 0)
    .attr('x2', (countMargin + countWidth4Digits + occurrenceScaleBackwards(0)) + 0.5)
    .attr('y2', h);
  tickLinesGroup.append('line')
    .attr('class', 'tick-line')
    .attr('id', 'tick-line-dog-1')
    .attr('x1', countMargin + countWidth4Digits + occurrenceScaleBackwards(10000))
    .attr('y1', 0)
    .attr('x2', countMargin + countWidth4Digits + occurrenceScaleBackwards(10000))
    .attr('y2', h);
  tickLinesGroup.append('line')
    .attr('class', 'tick-line')
    .attr('id', 'tick-line-dog-2')
    .attr('x1', countMargin + countWidth4Digits + occurrenceScaleBackwards(20000))
    .attr('y1', 0)
    .attr('x2', countMargin + countWidth4Digits + occurrenceScaleBackwards(20000))
    .attr('y2', h);
  tickLinesGroup.append('line')
    .attr('class', 'tick-line')
    .attr('id', 'tick-line-dog-3')
    .attr('x1', countMargin + countWidth4Digits + occurrenceScaleBackwards(30000))
    .attr('y1', 0)
    .attr('x2', countMargin + countWidth4Digits + occurrenceScaleBackwards(30000))
    .attr('y2', h);
  tickLinesGroup.append('line')
    .attr('class', 'tick-line')
    .attr('id', 'tick-line-human-0')
    .attr('x1', ((w / 2) + nameWidth) - 0.5)
    .attr('y1', 0)
    .attr('x2', ((w / 2) + nameWidth) - 0.5)
    .attr('y2', h);
  tickLinesGroup.append('line')
    .attr('class', 'tick-line')
    .attr('id', 'tick-line-human-1')
    .attr('x1', (w / 2) + nameWidth + occurrenceScale(10000))
    .attr('y1', 0)
    .attr('x2', (w / 2) + nameWidth + occurrenceScale(10000))
    .attr('y2', h);
  tickLinesGroup.append('line')
    .attr('class', 'tick-line')
    .attr('id', 'tick-line-human-2')
    .attr('x1', (w / 2) + nameWidth + occurrenceScale(20000))
    .attr('y1', 0)
    .attr('x2', (w / 2) + nameWidth + occurrenceScale(20000))
    .attr('y2', h);
  tickLinesGroup.append('line')
    .attr('class', 'tick-line')
    .attr('id', 'tick-line-human-3')
    .attr('x1', (w / 2) + nameWidth + occurrenceScale(30000))
    .attr('y1', 0)
    .attr('x2', (w / 2) + nameWidth + occurrenceScale(30000))
    .attr('y2', h);

  // groups for bars + labels + selected state's rects and text
  var nameGroup = namelengthsSvg.selectAll('#namelengths-vis .name-group')
    .data(json.distinctNameLengths)
    .enter()
    .append('g')
      .attr('id', function(d) {
        return d.nameLength;
      })
      .attr('class', 'name-group')
      .attr('transform', function(d, i) {
        return 'translate(0, ' + (i * vNameSpacing) + ')';
      });

  // dog counts
  nameGroup.append('text')
    .text(function(d) {
      if (d.lengthInfo.dogOccurrence > 0) {
        return d3.format(",")(d3.format(".0f")(d.lengthInfo.dogOccurrence));
      }
    })
    .attr('class', function(d) {
      return 'count dog-count xs-textface count-' + d.nameLength;
    })
    .attr('x', function(d) {
      return occurrenceScaleBackwards(d.lengthInfo.dogOccurrence);
    })
    .attr('y', barY + nameOffset - 1)
    .attr('opacity', '0');
  
  // loop through all dog counts to capture the SVG <text>'s width, to use for sliding <text> element (revealed upon hover) over the right amount
  var counts = document.querySelectorAll('#namelengths-vis .dog-count');
  var countWidthBenchmark = counts[0].getBBox().width;
  for (i = 0; i < counts.length; i++) {
    var countWidth = counts[i].getBBox().width;
    var countOffset = (countWidthBenchmark - countWidth) + (3 * countMargin);
    counts[i].setAttribute('transform', 'translate(' + (countOffset) + ', 0)');
  };

  // human counts
  nameGroup.append('text')
    .text(function(d) {
      if (d.lengthInfo.humanOccurrence > 0) {
        return d3.format(",")(d3.format(".0f")(d.lengthInfo.humanOccurrence));
      } 
    })
    .attr('class', function(d) {
      return 'count human-count xs-textface count-' + d.nameLength;
    })
    .attr('x', function(d) {
      return occurrenceScale(d.lengthInfo.humanOccurrence) + (w / 2) + nameWidth + countMargin;
    })
    .attr('y', barY + nameOffset - 1)
    .attr('opacity', '0');

  // selected rect (made apparent on hover + search)
  nameGroup.append('rect')
    .attr('class', 'selected-box')
    .attr('width', w)
    .attr('height', vNameSpacing)
    .attr('x', 0)
    .attr('y', 0)
    .attr('opacity', 0)
    .on('mouseover', function(e, d) {
      namelengthsSvg.selectAll('#namelengths-vis .selected-box')
        .attr('opacity', 0);
      namelengthsSvg.selectAll('#namelengths-vis .count')
        .attr('opacity', 0);
      d3.select(this)
        .attr('opacity', 1);
      namelengthsSvg.selectAll('#namelengths-vis .count-' + d.nameLength)
        .attr('opacity', 1);
    })
    .on('mouseout', function () {
      d3.select(this)
        .attr('opacity', 0);
      namelengthsSvg.selectAll('#namelengths-vis .count')
        .attr('opacity', 0);
    });

  // bars for dogs (red)
  nameGroup.append('rect') 
    .attr('class', 'bars-dog')
    .attr('width', function(d) { // clamping the smallest possible values so they're still visible, esp on small screens
      if (d.lengthInfo.dogOccurrence == 0) {
        return 0;
      } else {
        return occurrenceScale(d.lengthInfo.dogOccurrence) + minBarSize;
      }
    })
    .attr('height', barWeight)
    .attr('x', ((w / 2) - nameWidth) * -1)
    .attr('y', barY);
  
  // bars for humans (blue)
  nameGroup.append('rect')
    .attr('class', 'bars-human')
    .attr('width', function(d) { // clamping the smallest possible values so they're still visible, esp on small screens
      if (d.lengthInfo.humanOccurrence == 0) {
        return 0;
      } else {
        return occurrenceScale(d.lengthInfo.humanOccurrence) + minBarSize;
      }
    })
    .attr('height', barWeight)
    .attr('x', (w / 2) + nameWidth)
    .attr('y', barY);

  // names
  nameGroup.append('text')
    .text(function(d) {
      return d.nameLength;
    })
    .attr('class', 'name-label xs-textface bold')
    .attr('x', w / 2)
    .attr('y', barY + nameOffset);

  // call axes
  var namelengthsAxes = d3.select('#namelengths-fixed')
  .append('svg')
    .attr('width', w)
    .attr('height', axesBoxHeight);

  namelengthsAxes.append("g")
    .attr('class', 'axis xs-textface')
    .call(humanAxis)
    .attr('id', 'namelengths-human-axis')
    .attr('transform', 'translate(' + ((w / 2) + nameWidth) + ', ' + vAxesOffset + ')'); 

  namelengthsAxes.append("g")
    .attr('class', 'axis xs-textface')
    .call(dogAxis)
    .attr('id', 'namelengths-dog-axis')
    .attr('transform', 'translate(' + (countWidth4Digits + countMargin) + ', ' + vAxesOffset + ')');

  d3.selectAll('#namelengths-fixed .tick text') // repositioning tick labels
    .attr('y', vTickLabelOffset);

  namelengthsAxes.append('line')
    .attr('id', 'h-axes-bg-line')
    .attr('x1', 0)
    .attr('y1', vAxesOffset)
    .attr('x2', w)
    .attr('y2', vAxesOffset);

  // setting up data toggle
  namelengthsToggle
    .on('click', function() {

      if (namelengthsToggle.selectAll('.namelengths-toggle-pill-occur').classed('namelengths-toggle-pill-on')) { // if being set to names; therefore showing data for occurrence prior to click

        // Update pill and text colors
        namelengthsToggle.selectAll('.namelengths-toggle-pill-name')
          .classed('namelengths-toggle-pill-on', true);
        namelengthsToggle.selectAll('.namelengths-toggle-text-name')
          .classed('namelengths-toggle-text-on', true);
        namelengthsToggle.selectAll('.namelengths-toggle-pill-occur')
          .classed('namelengths-toggle-pill-on', false);
        namelengthsToggle.selectAll('.namelengths-toggle-text-occur')
          .classed('namelengths-toggle-text-on', false);

        document.querySelector('#dog-axis-label').innerHTML = 'Number of dog names';
        document.querySelector('#human-axis-label').innerHTML = 'Number of human names';
        
        // vars
        countWidth4Digits = remConverter(22);

        // scales for names
        nameScale = d3.scaleLinear()
          .domain([0, mostNames])
          .range([0, ((w / 2) - nameWidth - countWidth4Digits - countMargin)]);
        nameScaleBackwards = d3.scaleLinear() // this only to be used by dog axis + selected state showing dog's counts (not even to be used for dog's bars!)
          .domain([0, mostNames])
          .range([((w / 2) - nameWidth - countWidth4Digits - countMargin), 0]);

        // bars
        namelengthsSvg.selectAll('.bars-dog')
          .transition()
          .attr('width', function(d) {
            return nameScale(d.lengthInfo.dogNameCount) + minBarSize;
            if (d.lengthInfo.dogNameCount == 0) {
              return 0;
            } else {
              return nameScale(d.lengthInfo.dogNameCount) + minBarSize;
            }
          });
        namelengthsSvg.selectAll('.bars-human')
          .transition()
          .attr('width', function(d) {
            if (d.lengthInfo.humanNameCount == 0) {
              return 0;
            } else {
              return nameScale(d.lengthInfo.humanNameCount) + minBarSize;
            }
          });

        // counts
        namelengthsSvg.selectAll('.dog-count')
          .text(function(d) {
            if (d.lengthInfo.dogNameCount > 0) {
              return d3.format(",")(d3.format(".0f")(d.lengthInfo.dogNameCount));
              } 
            })
          .attr('x', function(d) { 
            return nameScaleBackwards(d.lengthInfo.dogNameCount);
          });
          
          // loop through all dog counts to capture the SVG <text>'s width, to use for sliding <text> element (revealed upon hover) over the right amount
          var countWidthBenchmark = counts[0].getBBox().width;
          for (i = 0; i < counts.length; i++) {
            var countWidth = counts[i].getBBox().width;
            var countOffset = (countWidthBenchmark - countWidth) + (2.5 * countMargin);
            counts[i].setAttribute('transform', 'translate(' + (countOffset) + ', 0)');
          };

          namelengthsSvg.selectAll('.human-count')
            .text(function(d) {
              if (d.lengthInfo.humanNameCount > 0) {
                return d3.format(",")(d3.format(".0f")(d.lengthInfo.humanNameCount));
                } 
              })
            .attr('x', function(d) {
              return nameScale(d.lengthInfo.humanNameCount) + (w / 2) + nameWidth + countMargin;
            });

          // background tick lines
          d3.select('#namelengths-vis #tick-line-dog-1')
            .transition()
            .attr('x1', countMargin + countWidth4Digits + nameScaleBackwards(200))
            .attr('x2', countMargin + countWidth4Digits + nameScaleBackwards(200));
          d3.select('#namelengths-vis #tick-line-dog-2')
            .transition()
            .attr('x1', countMargin + countWidth4Digits + nameScaleBackwards(400))
            .attr('x2', countMargin + countWidth4Digits + nameScaleBackwards(400));
          d3.select('#namelengths-vis #tick-line-dog-3')
            .transition()
            .attr('x1', countMargin + countWidth4Digits + nameScaleBackwards(600))
            .attr('x2', countMargin + countWidth4Digits + nameScaleBackwards(600));
          d3.select('#namelengths-vis #tick-line-human-1')
            .transition()
            .attr('x1', (w / 2) + nameWidth + nameScale(200))
            .attr('x2', (w / 2) + nameWidth + nameScale(200));
          d3.select('#namelengths-vis #tick-line-human-2')
            .transition()
            .attr('x1', (w / 2) + nameWidth + nameScale(400))
            .attr('x2', (w / 2) + nameWidth + nameScale(400));
          d3.select('#namelengths-vis #tick-line-human-3')
            .transition()
            .attr('x1', (w / 2) + nameWidth + nameScale(600))
            .attr('x2', (w / 2) + nameWidth + nameScale(600));

      } else {

        // Update pill and text colors
        namelengthsToggle.select('.namelengths-toggle-pill-name')
          .classed('namelengths-toggle-pill-on', false);
        namelengthsToggle.select('.namelengths-toggle-text-name')
          .classed('namelengths-toggle-text-on', false);
        namelengthsToggle.select('.namelengths-toggle-pill-occur')
          .classed('namelengths-toggle-pill-on', true);
        namelengthsToggle.select('.namelengths-toggle-text-occur')
          .classed('namelengths-toggle-text-on', true);

        document.querySelector('#dog-axis-label').innerHTML = 'Occurrence per 100,000 dogs';
        document.querySelector('#human-axis-label').innerHTML = 'Occurrence per 100,000 humans';

        // bars
        namelengthsSvg.selectAll('.bars-dog')
          .transition()
          .attr('width', function(d) {
            return occurrenceScale(d.lengthInfo.dogOccurrence) + minBarSize;
            if (d.lengthInfo.dogOccurrence == 0) {
              return 0;
            } else {
              return occurrenceScale(d.lengthInfo.dogOccurrence) + minBarSize;
            }
          });
        namelengthsSvg.selectAll('.bars-human')
          .transition()
          .attr('width', function(d) {
            if (d.lengthInfo.humanOccurrence == 0) {
              return 0;
            } else {
              return occurrenceScale(d.lengthInfo.humanOccurrence) + minBarSize;
            }
          });

        // counts
        namelengthsSvg.selectAll('.dog-count')
          .text(function(d) {
            if (d.lengthInfo.dogOccurrence > 0) {
              return d3.format(",")(d3.format(".0f")(d.lengthInfo.dogOccurrence));
              } 
            })
          .attr('x', function(d) { 
            return occurrenceScaleBackwards(d.lengthInfo.dogOccurrence);
          });
          
        // loop through all dog counts to capture the SVG <text>'s width, to use for sliding <text> element (revealed upon hover) over the right amount
        var countWidthBenchmark = counts[0].getBBox().width;
        for (i = 0; i < counts.length; i++) {
          var countWidth = counts[i].getBBox().width;
          var countOffset = (countWidthBenchmark - countWidth) + (2.5 * countMargin);
          counts[i].setAttribute('transform', 'translate(' + (countOffset) + ', 0)');
        };

        namelengthsSvg.selectAll('.human-count')
          .text(function(d) {
            if (d.lengthInfo.humanOccurrence > 0) {
              return d3.format(",")(d3.format(".0f")(d.lengthInfo.humanOccurrence));
              } 
            })
          .attr('x', function(d) {
            return occurrenceScale(d.lengthInfo.humanOccurrence) + (w / 2) + nameWidth + countMargin;
          });

        // background tick lines
        d3.select('#namelengths-vis #tick-line-dog-1')
            .transition()
            .attr('x1', (2 * countMargin) + countWidth4Digits + occurrenceScaleBackwards(10000)) // don't know why these all need double the `countMargin` when the original doesn't, but they just do!
            .attr('x2', (2 * countMargin) + countWidth4Digits + occurrenceScaleBackwards(10000));
          d3.select('#namelengths-vis #tick-line-dog-2')
            .transition()
            .attr('x1', (2 * countMargin) + countWidth4Digits + occurrenceScaleBackwards(20000))
            .attr('x2', (2 * countMargin) + countWidth4Digits + occurrenceScaleBackwards(20000));
          d3.select('#namelengths-vis #tick-line-dog-3')
            .transition()
            .attr('x1', (2 * countMargin) + countWidth4Digits + occurrenceScaleBackwards(30000))
            .attr('x2', (2 * countMargin) + countWidth4Digits + occurrenceScaleBackwards(30000));
          d3.select('#namelengths-vis #tick-line-human-1')
            .transition()
            .attr('x1', (w / 2) + nameWidth + occurrenceScale(10000))
            .attr('x2', (w / 2) + nameWidth + occurrenceScale(10000));
          d3.select('#namelengths-vis #tick-line-human-2')
            .transition()
            .attr('x1', (w / 2) + nameWidth + occurrenceScale(20000))
            .attr('x2', (w / 2) + nameWidth + occurrenceScale(20000));
          d3.select('#namelengths-vis #tick-line-human-3')
            .transition()
            .attr('x1', (w / 2) + nameWidth + occurrenceScale(30000))
            .attr('x2', (w / 2) + nameWidth + occurrenceScale(30000));

      } // if
    }); // close on

}); // close JSON function

// ⬆︎⬆︎⬆︎⬆︎⬆︎ JAVASCRIPT * JAVASCRIPT * JAVASCRIPT * JAVASCRIPT * JAVASCRIPT * JAVASCRIPT * JAVASCRIPT * JAVASCRIPT * JAVASCRIPT

      
      </script>

      <!-- Draws line at top of screen to show how far scrolled through main content -->
      <script src="../../../assets/js/readingline.js">
      </script>
      <footer role="contentinfo">
        <div id="footercontent">
          <!-- Subscribe -->
          <form action="//curiositycoloredglasses.us14.list-manage.com/subscribe/post?u=05f8f85154975a52907f2ce4d&amp;id=086ebe8644" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
            <span class="mc-field-group">
              <input type="email" value="" name="EMAIL" class="boxinput s-textface" id="mce-EMAIL" placeholder="Email address">
            </span>
            <!-- Honeypot -->
            <span style="position: absolute; left: -5000px;" aria-hidden="true">
              <input type="text" name="b_05f8f85154975a52907f2ce4d_086ebe8644" tabindex="-1" value="">
            </span>
            <!-- "Subscribe" button -->
            <input type="submit" value="Subscribe" name="subscribe" class="xs-display boxbutton subscribebutton" id="mc-embedded-subscribe">
          </form>
          <!-- Message to see example posts -->
          <p class="xs-textface" id="subscribemessage">
            Find out about new posts!
            <a href="http://us14.campaign-archive2.com/home/?u=05f8f85154975a52907f2ce4d&id=086ebe8644" title="View previous campaigns" target="_blank">
              See an example email first.
            </a>
          </p>
          <!-- COMMENTING OUT WHILE ON AIRPLANE -->
          <!-- MailChimp scripts -->
          <!-- <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'>
          </script> -->
          <!-- COMMENTING OUT WHILE ON AIRPLANE -->
          <!-- <script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';}(jQuery));var $mcj = jQuery.noConflict(true); -->
          <!-- </script> -->
          <!-- Follow -->
          <span id="follow">
            <!-- Link to my instagram page -->
            <a href="https://www.instagram.com/curiositycoloredglasses/" title="Follow on Instagram" target="_blank">
              <img src= "../../../assets/images/Instagram.svg" alt="Follow me on Instagram" id="instagramlogo" class="followicon socialicon">
            </a>
            <!-- Link to @iggledee twitter page -->
            <a href="https://twitter.com/iggledee" title="Follow on Twitter" target="_blank">
              <img src= "../../../assets/images/Twitter.svg" alt="Follow me on Twitter" class="followicon socialicon">
            </a>
            <!-- Link to my portfolio website -->
            <a href="http://liaprins.com/" target="_blank" id="portfolio" class="m-textface bold">
              liaprins.com
            </a>
          </span>
        </div>
      </footer>
    </div> <!-- closing id="everythingexceptnav" which exists on every page except QQ, and is closed within Archive's own layout -->
      <!-- Menu has to be called here, to account for a major Safari bug: Safari renders anything measured in rems at 1px, if it comes after a <details> tag... and my menu is within a <details> tag, so it was messing up everything with rems in Safari. Moving menu to the very bottom means there is nothing in the html after it, so it is fine. The menu is styled in css to position it absolutely at the top -->
    <nav role="navigation">
      <details id="navdetails" open>
        <summary id="navsummary">
        </summary>
        <!-- Home glasses icon -->
        <a href="https://curiositycoloredglasses.com//" title="Curiosity-Colored Glasses">
          <img src="../../../assets/images/home.svg" alt="Curiosity-Colored Glasses" id="homeicon" class="yellowhover">
        </a>
        <!-- Loop through mainpages list according to order number assigned in each page's front matter -->
        <ul id="navlist">
          <a href="https://curiositycoloredglasses.com/hello" class="menuwordlink"><li id="menuword" class="navnothome m-display yellowhover"><span href="https://curiositycoloredglasses.com/hello">Hello</span></li></a>
          <a href="https://curiositycoloredglasses.com/questionqueue" class="menuwordlink"><li id="menuword" class="navnothome m-display yellowhover"><span href="https://curiositycoloredglasses.com/questionqueue">Question Queue</span></li></a>
          <a href="https://curiositycoloredglasses.com/library" class="menuwordlink"><li id="menuword" class="navnothome m-display yellowhover"><span href="https://curiositycoloredglasses.com/library">Library</span></li></a>
          <a href="https://curiositycoloredglasses.com/archive" class="menuwordlink"><li id="menuword" class="navnothome m-display yellowhover"><span href="https://curiositycoloredglasses.com/archive">Archive</span></li></a>
          <!-- Searchbar -->
          <li id="navsearch" class="navnothome">
            <div id="searchdecoy" title="Search" class="yellowhover" style="display: none;">
              <img src="../../../assets/images/search.svg" alt="search" class="navsearchicon">
            </div>
            <form action="/search" method="get" id="navsearchform">
              <input type="text" placeholder="search" name="query" id="navsearchinput" class="s-textface underlineinput">
              <button type="submit" value="search" title="Search" id="navsearchbutton" class="searchbutton yellowhover">
                <img src="../../../assets/images/search.svg" alt="search" class="navsearchicon">
              </button>
            </form>
          </li>
        </ul>
      </details>
    </nav>
    <!-- Sitewide scripts -->
    <script src="../../../assets/js/menu.js">
    </script>
    <script src="../../../assets/js/search.js">
    </script>
  </body>
</html>